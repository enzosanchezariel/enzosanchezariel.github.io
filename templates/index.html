{% from "components/tech-pill.html" import techpill %}
{% extends "base.html" %}
{% block content %}
  <div
    class="flex w-full flex-col items-center justify-center border-b-1 border-slate-200 bg-white"
  >
    <div class="flex w-full flex-col gap-2 p-4 lg:p-6 xl:max-w-6xl">
      <div class="flex flex-col gap-6 sm:flex-row sm:gap-4">
        <div class="flex w-auto max-w-3xl flex-2 flex-col items-start">
          <p class="w-min min-w-fit text-2xl">¡Hola! Soy...</p>
          <h1
            class="w-min min-w-fit pb-3 text-5xl font-bold text-emerald-600 select-text sm:text-6xl sm:whitespace-nowrap"
          >
            Enzo Sánchez
          </h1>
          <p class="text-2xl font-light text-gray-800">
            <span>Estudiante de Ingeniería en Sistemas de Información,</span>
            <span>Desarrollador Full Stack,</span> <span>Animador 2D,</span>
            <span>Diseñador gráfico independiente</span>
          </p>
          <img
            src="https://picsum.photos/200"
            alt=""
            class="mt-4 block w-full max-w-[20rem] self-center sm:hidden sm:h-full sm:w-auto sm:max-w-full sm:self-auto sm:object-contain lg:mt-6"
          />
          <div
            class="mt-4 flex flex-wrap gap-2 self-center sm:self-auto lg:mt-6"
          >
            <a
              class="cursor-pointer rounded-sm bg-emerald-600 px-3 py-2 text-white transition hover:bg-emerald-700 active:scale-90 active:bg-emerald-700"
              href="{{ url_for('static', filename='files/Enzo Sanchez CV.pdf') }}"
              download
            >
              <div class="flex flex-row gap-2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="24px"
                  viewBox="0 -960 960 960"
                  width="24px"
                  fill="currentColor"
                >
                  <path
                    d="M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"
                  />
                </svg>
                <p class="whitespace-nowrap">Descargar CV</p>
              </div>
            </a>
            <a
              class="cursor-pointer rounded-sm px-2 py-2 text-gray-800 transition hover:bg-emerald-200 active:scale-90 active:bg-emerald-200 sm:px-3"
              href="https://www.linkedin.com/in/enzosanchezariel/"
              target="_blank"
            >
              <div class="flex flex-row items-center gap-2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path
                    d="M17 2a5 5 0 0 1 5 5v10a5 5 0 0 1 -5 5h-10a5 5 0 0 1 -5 -5v-10a5 5 0 0 1 5 -5zm-9 8a1 1 0 0 0 -1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0 -1 -1m6 0a3 3 0 0 0 -1.168 .236l-.125 .057a1 1 0 0 0 -1.707 .707v5a1 1 0 0 0 2 0v-3a1 1 0 0 1 2 0v3a1 1 0 0 0 2 0v-3a3 3 0 0 0 -3 -3m-6 -3a1 1 0 0 0 -.993 .883l-.007 .127a1 1 0 0 0 1.993 .117l.007 -.127a1 1 0 0 0 -1 -1"
                  />
                </svg>
                <p class="hidden sm:block">LinkedIn</p>
              </div>
            </a>
            <a
              class="cursor-pointer rounded-sm px-2 py-2 text-gray-800 transition hover:bg-emerald-200 active:scale-90 active:bg-emerald-200 sm:px-3"
              href="https://github.com/enzosanchezariel"
              target="_blank"
            >
              <div class="flex flex-row items-center gap-2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path
                    d="M5.315 2.1c.791 -.113 1.9 .145 3.333 .966l.272 .161l.16 .1l.397 -.083a13.3 13.3 0 0 1 4.59 -.08l.456 .08l.396 .083l.161 -.1c1.385 -.84 2.487 -1.17 3.322 -1.148l.164 .008l.147 .017l.076 .014l.05 .011l.144 .047a1 1 0 0 1 .53 .514a5.2 5.2 0 0 1 .397 2.91l-.047 .267l-.046 .196l.123 .163c.574 .795 .93 1.728 1.03 2.707l.023 .295l.007 .272c0 3.855 -1.659 5.883 -4.644 6.68l-.245 .061l-.132 .029l.014 .161l.008 .157l.004 .365l-.002 .213l-.003 3.834a1 1 0 0 1 -.883 .993l-.117 .007h-6a1 1 0 0 1 -.993 -.883l-.007 -.117v-.734c-1.818 .26 -3.03 -.424 -4.11 -1.878l-.535 -.766c-.28 -.396 -.455 -.579 -.589 -.644l-.048 -.019a1 1 0 0 1 .564 -1.918c.642 .188 1.074 .568 1.57 1.239l.538 .769c.76 1.079 1.36 1.459 2.609 1.191l.001 -.678l-.018 -.168a5.03 5.03 0 0 1 -.021 -.824l.017 -.185l.019 -.12l-.108 -.024c-2.976 -.71 -4.703 -2.573 -4.875 -6.139l-.01 -.31l-.004 -.292a5.6 5.6 0 0 1 .908 -3.051l.152 -.222l.122 -.163l-.045 -.196a5.2 5.2 0 0 1 .145 -2.642l.1 -.282l.106 -.253a1 1 0 0 1 .529 -.514l.144 -.047l.154 -.03z"
                  />
                </svg>
                <p class="hidden sm:block">Github</p>
              </div>
            </a>
          </div>
        </div>
        <div class="hidden flex-1 items-center justify-center sm:flex">
          <img
            src="https://picsum.photos/200"
            alt=""
            class="w-full sm:h-full sm:w-auto sm:object-contain"
          />
        </div>
      </div>
    </div>
  </div>
  <div class="flex min-h-screen w-full flex-col items-center">
    <div
      class="w-full flex-1 items-center border-slate-200 bg-white xl:max-w-6xl xl:border-x-1"
    >
      <div class="p-4 lg:p-6">
        <h2 class="py-6 text-center text-3xl text-emerald-600">Tecnologías</h2>
        <div
          class="flex flex-col items-center pb-6 text-gray-800 [&>article]:flex [&>article]:flex-col [&>article]:items-center [&>article]:justify-center"
        >
          <article class="border-b-1 border-slate-200 pb-6">
            <h1 class="pb-2">Lenguajes de Programación</h1>
            <ul
              class="flex flex-row flex-wrap items-center justify-center gap-4"
            >
              {{ techpill( "Java", url_for('static', filename='resources/JAVA ICON.svg'), "Java icon" ) }}
              {{ techpill( "Python", url_for('static', filename='resources/PYTHON ICON.svg'), "Python icon" ) }}
              {{ techpill( "JavaScript", url_for('static', filename='resources/JS ICON.svg'), "JavaScript icon" ) }}
            </ul>
          </article>
          <article class="border-b-1 border-slate-200 pb-6">
            <h1 class="pt-4 pb-2">Desarrollo Frontend</h1>
            <ul
              class="flex flex-row flex-wrap items-center justify-center gap-4"
            >
              {{ techpill( "Svelte", url_for('static', filename='resources/SVELTE ICON.svg'), "Svelte icon" ) }}
              {{ techpill( "HTMX", url_for('static', filename='resources/HTMX ICON.svg'), "HTMX icon" ) }}
            </ul>
          </article>
          <article class="border-b-1 border-slate-200 pb-6">
            <h1 class="pt-4 pb-2">Desarrollo Backend</h1>
            <ul
              class="flex flex-row flex-wrap items-center justify-center gap-4"
            >
              {{ techpill( "Spring Boot", url_for('static', filename='resources/SPRING BOOT ICON.svg'), "Spring Boot icon" ) }}
              {{ techpill( "Flask", url_for('static', filename='resources/FLASK ICON.svg'), "Flask icon" ) }}
              {{ techpill( "Express", url_for('static', filename='resources/EXPRESS ICON.svg'), "Express icon" ) }}
            </ul>
          </article>
          <article class="border-b-1 border-slate-200 pb-6">
            <h1 class="pt-4 pb-2">
              Diseño y administración de bases de datos SQL
            </h1>
            <ul
              class="flex flex-row flex-wrap items-center justify-center gap-4"
            >
              {{ techpill( "MySQL", url_for('static', filename='resources/MYSQL ICON.svg'), "MySQL icon" ) }}
            </ul>
          </article>
          <article>
            <h1 class="pt-4 pb-2">Diseño y Animación</h1>
            <ul
              class="flex flex-row flex-wrap items-center justify-center gap-4"
            >
              {{ techpill( "Adobe Animate", url_for('static', filename='resources/ADOBE ANIMATE ICON.svg'), "Adobe Animate icon" ) }}
              {{ techpill( "Adobe Illustrator", url_for('static', filename='resources/ADOBE ILLUSTRATOR ICON.svg'), "Adobe Illustrator icon" ) }}
              {{ techpill( "Adobe After Effects", url_for('static', filename='resources/ADOBE AFTER EFFECTS ICON.svg'), "Adobe After Effects icon" ) }}
            </ul>
          </article>
        </div>
        <h2 class="py-6 text-center text-3xl text-emerald-600">Proyectos</h2>
        <div class="flex justify-center">
          <div
            class="grid w-full grid-cols-1 place-items-center gap-4 sm:max-w-full sm:grid-cols-2 lg:grid-cols-3"
          >
            {%
              set projects = [
              {
                'name': 'DraBeh',
                'dir': 'drabeh',
                'thumbnail': url_for('static', filename='resources/thumbnails/drabeh-1.png')
              },
              {
                'name': 'Cartera de Futuros',
                'dir': 'cartera-futuros',
                'thumbnail': url_for('static', filename='resources/thumbnails/cartera-futuros-1.png')
              },
              {
                'name': 'WebQuizApp',
                'dir': 'webquizapp',
                'thumbnail': url_for('static', filename='resources/thumbnails/webquizapp-1.png')
              },
              {
                'name': 'Planificador de Horarios UTN',
                'dir': 'planificador-horarios-utn',
                'thumbnail': url_for('static', filename='resources/thumbnails/planificador-horarios-utn-1.png')
              },
              {
                'name': 'Tienda online',
                'dir': 'tienda-online',
                'thumbnail': url_for('static', filename='resources/thumbnails/tienda-online-1.png')
              },
              ]
            %}
            {% for project in projects %}
              <a
                href="{{ url_for('pages.projects', page=project.dir ) }}"
                class="flex h-full w-full max-w-[20rem] cursor-pointer overflow-clip rounded-sm outline-1 outline-slate-200 transition hover:scale-105 hover:bg-emerald-200 hover:shadow-xl/10 hover:outline-0 active:scale-90 active:bg-emerald-200 active:outline-0"
              >
                <article class="flex w-full flex-col">
                  <img
                    class="aspect-3/2 h-auto w-full border-slate-200"
                    src="{{ project.thumbnail }}"
                    style="view-transition-name: {{ 'img-' + project.dir }};"
                    alt=""
                  />
                  <div class="p-4">
                    <h1
                      class="w-min truncate text-left text-xl"
                      style="view-transition-name: {{ 'title-' + project.dir }};"
                    >
                      {{ project.name }}
                    </h1>
                  </div>
                </article>
              </a>
            {% endfor %}
          </div>
        </div>
        <h2 class="py-6 text-center text-3xl text-emerald-600">Contacto</h2>
        <div class="flex flex-col items-center">
          <form
            action="{{ url_for('email.email') }}"
            method="post"
            onsubmit="contactFormSubmit(event)"
            class="w-full max-w-2xl text-gray-800"
          >
            <div class="mb-4 flex flex-col">
              <label class="mb-1" for="contact-name">Nombre y apellido</label>
              <input
                class="rounded-sm px-3 py-2 outline-1 outline-slate-200 transition placeholder:text-emerald-500 focus:outline-emerald-300"
                type="text"
                id="contact-name"
                name="name"
                pattern="^(?!\s*$).+"
                required
              />
            </div>
            <div class="mb-4 flex flex-col">
              <label class="mb-1" for="contact-email">Email</label>
              <input
                class="rounded-sm px-3 py-2 outline-1 outline-slate-200 transition placeholder:text-emerald-500 focus:outline-emerald-300"
                type="email"
                id="contact-email"
                name="email"
                required
              />
            </div>
            <div class="mb-4 flex flex-col">
              <label class="mb-1" for="contact-subject">Asunto</label>
              <input
                class="rounded-sm px-3 py-2 outline-1 outline-slate-200 transition placeholder:text-emerald-500 focus:outline-emerald-300"
                type="text"
                id="contact-subject"
                name="subject"
                pattern="^(?!\s*$).+"
                required
              />
            </div>
            <div class="mb-4 flex flex-col">
              <label class="mb-1" for="contact-message">Mensaje</label>
              <textarea
                class="h-50 resize-none rounded-sm px-3 py-2 outline-1 outline-slate-200 transition placeholder:text-emerald-500 focus:outline-emerald-300"
                id="contact-message"
                name="message"
                minlength="1"
                required
              ></textarea>
            </div>
            <button
              id="contact-submit-btn"
              class="mt-4 flex w-full flex-row justify-center gap-2 rounded-sm bg-emerald-600 px-3 py-2 text-white transition hover:bg-emerald-700 active:bg-emerald-700 enabled:cursor-pointer enabled:active:scale-90 disabled:bg-gray-400"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path
                  d="M13 19h-8a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v6"
                />
                <path d="M3 7l9 6l9 -6" />
                <path d="M16 22l5 -5" />
                <path d="M21 21.5v-4.5h-4.5" />
              </svg>
              <p>Enviar mensaje</p>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <p
    id="toast"
    class="slidefade fixed bottom-2 left-1/2 z-10 -translate-x-1/2 rounded-sm bg-white p-4 shadow-xl/20 outline-1 outline-slate-200"
  ></p>
  <script>
    async function showToast(message, isError = false) {
      const toast = document.getElementById("toast");
      isError
        ? toast.classList.add("text-red-600")
        : toast.classList.remove("text-red-600");
      toast.textContent = message;
      toast.classList.add("show");
      await new Promise((resolve) => setTimeout(resolve, 3000));
      toast.classList.remove("show");
    }

    async function contactFormSubmit(event) {
      event.preventDefault();
      const form = event.target;
      const submitButton = document.getElementById("contact-submit-btn");

      formData = new FormData(form);

      submitButton.disabled = true;

      if (formData.get("message").trim().length === 0) {
        await showToast("El mensaje no puede estar vacío.", true);
        submitButton.disabled = false;
        return;
      }

      submitButton.classList.add("animate-pulse");

      fetch(form.action, {
        method: "POST",
        body: formData,
      })
        .then(async (response) => {
          if (response.ok) {
            await showToast("Mensaje enviado con éxito.");

            form.reset();
          } else {
            submitButton.classList.remove("animate-pulse");
            await showToast("Error al enviar el mensaje.", true);
          }
        })
        .catch(async () => {
          submitButton.classList.remove("animate-pulse");
          await showToast("Error al enviar el mensaje.", true);
        })
        .finally(() => {
          submitButton.classList.remove("animate-pulse");
          submitButton.disabled = false;
        });
    }
  </script>
{% endblock %}
